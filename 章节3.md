# 章节3
### 表达式的概念 
> **程序是由许多语句组成的，语句的基本单位是表达式。**  
> &ensp;&ensp;&ensp;&ensp;表达式由操作数和运算符所组成。    
> **运算符主要分为以下几类**  
> &ensp;&ensp;&ensp;&ensp; 1. 算数运算符  
> &ensp;&ensp;&ensp;&ensp; 2. 赋值运算符  
> &ensp;&ensp;&ensp;&ensp; 3. 关系运算符  
> &ensp;&ensp;&ensp;&ensp; 4. 逻辑运算符  
> &ensp;&ensp;&ensp;&ensp; 5. 位运算符  
### 算术运算符 

| 运算符 | 说明 | 计算 | 结果 |    
| :-: | :-: | :-: | :-: |   
| + | 数学加运算 | X=5+5 | 10 |   
| + | 字符串连接 | X="aa"+"bb" | aabb |    
| - | 数学减运算 | X=5-5 | 0 |      
| - | 取负数 | Y=5;X=-Y | -5 |     
| * | 数学乘运算 | X=5\*5 | 25 |    
| / | 数学除运算 | X=5/2 | 2 |     
| % | 数学余运算 | X=X%2 | 1 |     
| ++ | 数学自增运算 | X=1;X++ | 2 |      
| -- | 数学自减运算 | X=1;X-- | 0 |    
> **强调：字符串加任何数据类型都是字符串连接**  
### 赋值运算符  
> &ensp;&ensp;&ensp;&ensp;**通用的形式：变量名=表达式**  
### 复合赋值运算符   

| 运算符 | 表达式 | 计算 | 结果(假设X=10) |    
| :-: | :-: | :-: | :-: |   
| += | X+=5 | X=X+5 | 15 |   
| -= | X-=5 | X=X-5 | 5 |    
| \*= | X*=5 | X=X\*5 | 50 |      
| /= | X/=5 | X=X/5 | 2 | 
| %= | X%=5 | X=X%5 | 0 | 
> **提示：还可以和位运算符构成复合赋值运算符，例如：^=、<<=等**   
### 关系运算符   

| 运算符 | 说明 | 计算 | 结果 |    
| :-: | :-: | :-: | :-: |   
| == | 相等于 | 1==1 | true |   
| != | 不等于 | 1!=1 | false |    
| > | 大于 | 1>2 | false |      
| < | 小于 | 1<2 | true | 
| >= | 大于等于 | 1>=2 | false |  
| <= | 小于等于 | 1<=2 | true |
> **提示：关系运算符的结果是boolean类型的值**  
### 算术、赋值、关系运算符示例  
```
public class OperatorDemo1{
		public static void main(String []args){
				int num1=10;
				int num2=8;
				int res=num1+num2;
				System.out.println(res);
				String str="操作结果：";//引用数据类型，非八大基本数据类型之一，首字母大写，在内存堆里面（基本数据类型在栈里分配）
				System.out.println(str+res);//字符串连接，输出："操作结果：18"
				System.out.println(str+res+10);//字符串连接，输出："操作结果：1810"
				System.out.println(str+(res+10));//字符串连接，输出："操作结果：28"

				System.out.println(str+res+10.5);//字符串连接，输出："操作结果：1810.5"
				System.out.println(str+res+'男');//字符串连接，输出："操作结果：18男"
				System.out.println(str+res+true);//字符串连接，输出："操作结果：18true"
				System.out.println(res+10+str);//字符串连接，输出："28操作结果："

				//System.out.println(str+num1-num2);//错误，减号只能做数值运算  
				//System.out.println(str+(num1-num2));//错误，减号只能做数值运算  
				//System.out.println(str+(num1*num2));//错误，减号只能做数值运算  
				//System.out.println(str+(num1/num2));//错误，减号只能做数值运算  
				//System.out.println(str+(num1%num2));//错误，减号只能做数值运算 

				//num++; //num1=num1+1;
				//++num1;
					//当单独使用++的时候，不管++在前面或后面，都是自身加一的结果
				//System.out.println(str+num1);

				//num1--;
				//System.out.println(str+num1);

				//int data=num1++;//int data=num1;num1++;
				int data=++num1;
				//num++;int data=num1;
				//当有赋值运算符的时候，++在后面，那么会先赋值后自身加一
										//在前面，那么先自身加一再做赋值运算
				System.out.println("res="+data+",num1"+num1);

				num2+=2;
				System.out.println("num2="+num2);

				short s=5;
				//s=s+3;//区别？会报错，因为3是int类型，加上s会变成整型，不能再赋值给短整型s
				s+=3;
				System.out.println("s="+s);

				//关系运算符 
				System.out.println(num1==num2);
				System.out.println(num1>num2);
		}
}
```
### 逻辑运算符  

| 运算符 | 说明 | 表达式 | 描述 |    
| :-: | :-: | :-: | :------------------------------: |   
| && | 短路与 | 条件1&&条件2 | 仅仅两个条件同时为真，结果为真，<br/>若1为假，则不判断2 |   
| \|\| | 短路或 | 条件1\|\|条件2 | 只要两个条件有一个为真，结果为<br/>真，若1为真，不判断2 |    
| ! | 非 | !条件 | 条件为真时，结果为假。<br/>条件为假时，结果为真。 |      
| & | 与 | 条件1&条件2 | 仅仅两个条件同时为真，结果为真，<br/>若1为假，则2还需判断 | 
| \| | 或 | 条件1\|条件2 | 只要两个条件有一个为真，结果为<br/>真，若1为真，2还需判断 |  
| ^ | 异或 | 条件1^条件2 | 当一个为真，一个为假时，结果为<br/>真。 |  
### 逻辑运算符示例  
```
public class OperatorDemo2{
		public static void main(String []args){
				int num1=10;
				int num2=8;
				int num3=5;
				boolean res=false;
				System.out.println((num1>num2)&&(num2>num3));
				System.out.println((num1<num2)&&(num2>num3));
				System.out.println((num1<num2)&&(res=num2>num3));
				//短路与，条件1不成立，条件2就不会执行
				System.out.println(res);

				System.out.println((num1<num2)||(num2>num3));
				System.out.println((num1>num2)||(res=num2>num3));
				System.out.println(res);

				System.out.println(!(num1>num2));

				/*System.out.println((num1<num2)&(res=num2>num3));//逻辑与
				System.out.println(res);*/

				System.out.println((num1>num2)|(res=num2>num3));//逻辑或
				System.out.println(res);

				System.out.println((num1>num2)^(num2>num3));//逻辑异或
				System.out.println((num1>num2)^(num2<num3));//两个条件相反
				System.out.println(res);
		}
}
```
### 位运算符  
> **位运算符：位运算符是对二进制的直接运算**  

| 运算符 | 说明 | 表达式结果 | 特点 |    
| :-: | :-: | :-: | :------------------------------: |   
| & | 与运算 | 6&3=2 | 只有对应的两个二进位均为1时，<br/>结果位才为1，否则为0 |   
| \| | 或运算 | 6\|3=7 | 只要对应的两个二进位有一个为<br/>1时，结果位就为1 |    
| ^ | 异或运算 | 6^3=5 | 当两对应的二进位相异时，结果<br/>为1 |      
| ~ | 非运算符 | ~9=-10 | 其功能是对参与运算的数的各二<br/>进位按位求反 | 
| << | 左移 | 2<<3=16 | 往左移位，右边补0 |  
| >> | 右移 | 3>>1=1 | 往右移位，正数左边补0，负数<br/>补1 | 
| >>> | 无符号右移 | 3>>>1=1 | 往右移位，左边补0 | 
```
public class OperatorDemo3{
		public static void main(String []args){
				//计算机内部的数据都是以二进制形式存在的  
				/*
					在计算机内部又有多种编码方式存在

					计算机内部对二进制进行运算用的是补码.
					比如：1-1=1+(-1)=0;

					原码： 3：0000 0011  ：第一位是符号为，0代表正，1代表负
					反码：正数的反码和原码一样，负数的反码，保留符号为，其余按位取反
							-3：1000 0011(原码)-->1111 1100(反码)
					*补码：正数的反码和原码和补码都一样，负数的补码=反码+1；
							-3：1000 0011(原码)-->1111 1100(反码)->1111 1101(补码)
					负数的原码和补码之间的转换
					*负数的原码=负数的补码-1  再取反
					*负数的原码=负数的补码取反再加1

					1. 10001(原码)-->11110+1=11111;
					2. 11111-1=11110-->10001
					3.能不能先把补码取反再加1呢？
						 11111-->10000+1--->10001	 

				*/
				int num1=128;
				int num2=129;
				System.out.println("num1与num2的结果是："+(num1&num2));
				/*
					0000 0000 0000 0000 0000 0000 1000 0000(补)
					0000 0000 0000 0000 0000 0000 1000 0001(补)
					--------------------------------------------
					0000 0000 0000 0000 0000 0000 1000 0000(补)

				*/

				System.out.println("num1或num2的结果是："+(num1|num2));
				/*
					0000 0000 0000 0000 0000 0000 1000 0000(补)
					0000 0000 0000 0000 0000 0000 1000 0001(补)
					--------------------------------------------
					0000 0000 0000 0000 0000 0000 1000 0001(补)

				*/

				System.out.println("num1异或num2的结果是："+(num1^num2));
				/*
					0000 0000 0000 0000 0000 0000 1000 0000(补)
					0000 0000 0000 0000 0000 0000 1000 0001(补)
					--------------------------------------------
					0000 0000 0000 0000 0000 0000 0000 0001(补)

				*/

				System.out.println("num1非的结果是："+(~num1));
				/*
					0000 0000 0000 0000 0000 0000 1000 0000(补)
					1111 1111 1111 1111 1111 1111 0111 1111(补)
					--------------------------------------------
					1000 0000 0000 0000 0000 0000 1000 0001(负数的原码)

				*/

				System.out.println(2<<3);
				/*
					0000 0000 0000 0000 0000 0000 0000 0010(补)
					0000 0000 0000 0000 0000 0000 0001 0000(补)
					16

				*/

				System.out.println(-2<<3);
				/*
					1000 0000 0000 0000 0000 0000 0000 0010(原码)
					1111 1111 1111 1111 1111 1111 1111 1110(补)
					1111 1111 1111 1111 1111 1111 1111 0000(补)左移3位
					---------------------------------------------------
					1000 0000 0000 0000 0000 0000 0000 1111 +1
					--------------------------------------------
					1000 0000 0000 0000 0000 0000 0001 0000
					-16

				*/

				System.out.println(16>>3);
				/*
					0000 0000 0000 0000 0000 0000 0001 0000(补)
					0000 0000 0000 0000 0000 0000 0000 0010(补)
					2

				*/

				System.out.println(-16>>3);
				/*
					1000 0000 0000 0000 0000 0000 0001 0000(原码)
					1111 1111 1111 1111 1111 1111 1111 0000(补)
					1111 1111 1111 1111 1111 1111 1111 1110(补)移动3位
					---------------------------------------------------
					1000 0000 0000 0000 0000 0000 0000 0010
					-2

				*/
				}

				System.out.println(-16>>>3);
				/*
					1000 0000 0000 0000 0000 0000 0001 0000(原码)
					1111 1111 1111 1111 1111 1111 1111 0000(补)
					0001 1111 1111 1111 1111 1111 1111 1110(补)右移3位
					536870910

				*/
		}
}
```
### 运算符优先级  

| 优先级 | 运算符 | 结合性 |    
| :-: | :-: | :-: | 
| 1 | ()&ensp;&ensp;[]&ensp;&ensp;. | 从左到右 |
| 2 | !&ensp;&ensp;+(正)&ensp;&ensp;-(负)&ensp;&ensp;~&ensp;&ensp;++&ensp;&ensp;-- | 从右向左 | 
| 3 | \*&ensp;&ensp;/&ensp;&ensp;% | 从左向右 |  
| 4 | +(加)&ensp;&ensp;-(减) | 从左向右 | 
| 5 | <<&ensp;&ensp;>>&ensp;&ensp;>>> | 从左向右 |  
| 6 | <&ensp;&ensp;<=&ensp;&ensp;>&ensp;&ensp;>=&ensp;&ensp;instanceof | 从左向右 |  
| 7 | ==&ensp;&ensp;!= | 从左向右 |  
| 8 | &(按位与) | 从左向右 |
| 9 | ^ | 从左向右 | 
| 10 | \| | 从左向右 |  
| 11 | && | 从左向右 | 
| 12 | \|\| | 从左向右 |  
| 13 | ?: | 从右向左 |  
| 14 | =&ensp;&ensp;+=&ensp;&ensp;-=&ensp;&ensp;\*=&ensp;&ensp;/=&ensp;&ensp;%<br/>=&ensp;&ensp;&=&ensp;&ensp;\|=&ensp;&ensp;^=&ensp;&ensp;~=&ensp;&ensp;<<=&ensp;&ensp;>>=&ensp;&ensp;>>>= | 从右向左 |  

> 比如：```num1+-num2-->num1+(-num2)```
